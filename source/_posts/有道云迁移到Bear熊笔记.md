title: 有道云迁移到Bear熊笔记
author: alben.wong
abbrlink: 85c9a782
tags:
  - bear
categories: []
description: 有道云迁移到Bear熊笔记的过程
date: 2021-06-13 13:54:00
---
# 有道云迁移到Bear熊笔记

## 为什么要迁移
一直使用有道云笔记好多年了（大概从2013年开始？），之前还是使用的是简陋的本地笔记，还没有云存储这样的概念，看到有道云笔记之后被它的颜值和各种功能吸引住了。
不过随着使用，有道云笔记已经渐渐满足不了我的需求了：
- MD支持不友好
一半编辑一半显示，这样极大的影响了编写体验
- 内存占用大
不知为何，在我的MacBook Pro上有道云笔记的内存占用会持续增长，从几百M到1G到2G，用久了需要command + q关掉再打开，不然会很卡
- 卡顿
这可能是由上述问题导致的，无论各种操作都会很卡
- 搜索功能弱
无论是全局搜，还是当前笔记搜，搜索的效果都很差，而且很慢，也没有什么高级搜索的功能
- 没有导出功能
这点已经被很多人吐槽了，不能方便的把笔记迁移到别的笔记
- 同步问题
有时候会出现丢失和覆盖，在网络不好时，会不停的产生冲突

## 为什么是Bear熊笔记
在寻找下一个云笔记时，我对比了一些同品：
- 为知笔记
搜索功能弱
MD不支持实时预览
- leanote
界面比较丑
功能比较弱
- mweb
MD不支持实时预览
MD的预览很丑
- typora
不适合做系统性、总结性的笔记。比较适合做单篇写作

整体来说，我觉得为知笔记和mweb都不错，推荐。
不过，熊笔记在颜值、MD支持和即时预览、搜索等各方面都达到我的要求。
PS：熊笔记的存储是放在icloud的，空间容量和付费之间自己考虑。


## 迁移过程
由于有道云笔记不支持批量导出，所以只能曲线救国，这里借助了[youdaonote-pull](https://github.com/DeppWang/youdaonote-pull)，它可以把有道云笔记的格式转化为MD格式。
不过有一点需要注意的是，熊笔记是没有“目录”的概念，它是用“标签”取代替。那么如果直接导入转换后的MD文件的话，笔记的目录层次在熊笔记中会全部丢失，这样极不方便对笔记的管理。
为了改善这点，我修改了youdaonote-pull的源码，支持了“目录”到“标签”的转换，在[albenw/youdaonote-pull](https://github.com/albenw/youdaonote-pull/tree/feature/bear_support)这里可以看到。

### 步骤
1. 填写config.json文件
```javascript
{
"username": "",
"password": "",
"local_dir": "/Users/alben.wong/Downloads/youdaonote-pull",
"ydnote_dir": "经济&投资",
"smms_secret_token": "",
"bear_support": "true"
}
```
这里需要注意的是，”ydnote_dir”为有道云笔记中”我的文件夹”下的目录。
bear_support为”true”

2. 运行pull.py
注意看一下输出的日志信息，有没有错误或失败的信息。
提示，运行前最好检查一下，避免目录名字有空格或其他特殊符号。

3. 导入到熊笔记
有几点要注意：
	- 单次只能按照单个直接目录导入
	即熊笔记不支持子目录的递归导入，如果目录层次比较多和深的话，这个操作是有点麻烦和耗时
	- 导入时要取消“转义无意义标签”
	如果勾中，熊笔记会把”#”号进行转义，这样就做不到自动识别”标签”了。不过，这样有个缺点就是，如果笔记的内容有井号的话，就需要导入后手动处理一下
	- 附件失效问题
	熊笔记不能自动识别导入后笔记中的附件，这点可以通过“((null))”或者附件名来搜索，进行后期的重新添加附件。不过我个人认为笔记不应该有太多的附件。
	- 直接目录下的笔记查看问题
	这个问题是，假设有”a/b/c”这样的目录结构，假设有部分笔记挂在”b”目录下，而你只想查看这部分笔记，在熊笔记中点击”a/b”标签会出现”a/b”下所有的笔记（会递归子目录），那么怎么做到上述这点呢？有两种方法：1、是通过`-#xxx/`这样的搜索条件去搜（需要点击在直接目录，而且xxx要敲全目录路径）；2、是把这部分笔记迁移到一个新的”目录”去。而我就是采用第二种方法，比较麻烦和耗时。
    

## 总结
当我写完这篇文章时，我的迁移工作已经完成得7788了，统计了一下竟然有1400+得笔记量，而且迁移之前我还在有道云上查阅了一些比较老的笔记，把无记录意义的笔记清理掉，减少一些迁移量。
整体来说，这次迁移还算比较顺利，主要工作量在上面已经提到了，有”单次只能按照单个直接目录导入”、”附件失效问题”、”直接目录下的笔记处理问题”，这三点需要一个个来处理，比较耗时。


## Reference
[有道云笔记转为知笔记](https://github.com/ttttmr/YoudaoNote_to_WizNote)

[有道云笔记批量迁移到wiz笔记方案——逃离有道云笔记](https://imshuai.com/emigrate-from-youdao-note)